
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-7.3.5">
    
    
      
        <title>Backends - Argo CD Vault Plugin</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.cdeb8541.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.3f5d1f46.min.css">
        
          
          
          <meta name="theme-color" content="#000000">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:300,400,400i,700%7CIBM+Plex+Mono&display=fallback">
        <style>:root{--md-text-font-family:"IBM Plex Sans";--md-code-font-family:"IBM Plex Mono"}</style>
      
    
    
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="black" data-md-color-accent="">
  
    
    <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#hashicorp-vault" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner md-announce">
          <div class="md-banner__inner md-announce__inner md-grid md-typeset">
            
  <div id="version-banner">
  <script>

    // Show banner for people browsing the `main` docs that it is out of date
    if (window.location.pathname.match("^\/argocd-vault-plugin\/main\/.*") !== null) {
      const banner = document.createElement("h4");
      const msg = document.createTextNode("These docs are from the main branch and may reference unreleased features. ");
      const link = document.createElement("a");
      link.setAttribute("style", "color: white;text-decoration: underline;");
      link.setAttribute("href", `${window.location.origin}/argocd-vault-plugin/`)

      link.appendChild(document.createTextNode("Go here for the latest released docs"))
      banner.appendChild(msg);
      banner.appendChild(link);

      const currentDiv = document.getElementById("version-banner");
      currentDiv.appendChild(banner);
    }

    // Hide the banner entirely otherwise
    else {
      document.getElementsByClassName("md-announce")[0].setAttribute("style", "display: none;");
    }
  </script>
  </div>

          </div>
        </aside>
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Argo CD Vault Plugin" class="md-header__button md-logo" aria-label="Argo CD Vault Plugin" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Argo CD Vault Plugin
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Backends
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/IBM/argocd-vault-plugin/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Argo CD Vault Plugin" class="md-nav__button md-logo" aria-label="Argo CD Vault Plugin" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Argo CD Vault Plugin
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/IBM/argocd-vault-plugin/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Overview
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../howitworks/" class="md-nav__link">
        How it Works
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../installation/" class="md-nav__link">
        Installation
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../usage/" class="md-nav__link">
        Usage
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Backends
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Backends
      </a>
      
        


<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#hashicorp-vault" class="md-nav__link">
    HashiCorp Vault
  </a>
  
    <nav class="md-nav" aria-label="HashiCorp Vault">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#approle-authentication" class="md-nav__link">
    AppRole Authentication
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vault-token-authentication" class="md-nav__link">
    Vault Token Authentication
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#github-authentication" class="md-nav__link">
    Github Authentication
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kubernetes-authentication" class="md-nav__link">
    Kubernetes Authentication
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    Examples
  </a>
  
    <nav class="md-nav" aria-label="Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#path-annotation" class="md-nav__link">
    Path Annotation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inline-path" class="md-nav__link">
    Inline Path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#versioned-secrets" class="md-nav__link">
    Versioned secrets
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ibm-cloud-secrets-manager" class="md-nav__link">
    IBM Cloud Secrets Manager
  </a>
  
    <nav class="md-nav" aria-label="IBM Cloud Secrets Manager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#iam-authentication" class="md-nav__link">
    IAM Authentication
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_1" class="md-nav__link">
    Examples
  </a>
  
    <nav class="md-nav" aria-label="Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#path-annotation_1" class="md-nav__link">
    Path Annotation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inline-path_1" class="md-nav__link">
    Inline Path
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aws-secrets-manager" class="md-nav__link">
    AWS Secrets Manager
  </a>
  
    <nav class="md-nav" aria-label="AWS Secrets Manager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#aws-authentication" class="md-nav__link">
    AWS Authentication
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_2" class="md-nav__link">
    Examples
  </a>
  
    <nav class="md-nav" aria-label="Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#path-annotation_2" class="md-nav__link">
    Path Annotation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inline-path_2" class="md-nav__link">
    Inline Path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#versioned-secrets_1" class="md-nav__link">
    Versioned secrets
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gcp-secret-manager" class="md-nav__link">
    GCP Secret Manager
  </a>
  
    <nav class="md-nav" aria-label="GCP Secret Manager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gcp-authentication" class="md-nav__link">
    GCP Authentication
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_3" class="md-nav__link">
    Examples
  </a>
  
    <nav class="md-nav" aria-label="Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#path-annotation_3" class="md-nav__link">
    Path Annotation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inline-path_3" class="md-nav__link">
    Inline Path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#versioned-secrets_2" class="md-nav__link">
    Versioned secrets
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#azure-key-vault" class="md-nav__link">
    AZURE Key Vault
  </a>
  
    <nav class="md-nav" aria-label="AZURE Key Vault">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#azure-authentication" class="md-nav__link">
    Azure Authentication
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_4" class="md-nav__link">
    Examples
  </a>
  
    <nav class="md-nav" aria-label="Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#path-annotation_4" class="md-nav__link">
    Path Annotation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inline-path_4" class="md-nav__link">
    Inline Path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#versioned-secrets_3" class="md-nav__link">
    Versioned secrets
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../config/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          CLI Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="CLI Reference" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          CLI Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cmd/avp/" class="md-nav__link">
        argocd-vault-plugin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cmd/generate/" class="md-nav__link">
        argocd-vault-plugin generate
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cmd/version/" class="md-nav__link">
        argocd-vault-plugin version
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_8">
          Upgrading
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Upgrading" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Upgrading
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../0x-1x/" class="md-nav__link">
        v0.x to v1.x
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/IBM/argocd-vault-plugin/releases" class="md-nav__link">
        Releases ⧉
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#hashicorp-vault" class="md-nav__link">
    HashiCorp Vault
  </a>
  
    <nav class="md-nav" aria-label="HashiCorp Vault">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#approle-authentication" class="md-nav__link">
    AppRole Authentication
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vault-token-authentication" class="md-nav__link">
    Vault Token Authentication
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#github-authentication" class="md-nav__link">
    Github Authentication
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kubernetes-authentication" class="md-nav__link">
    Kubernetes Authentication
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    Examples
  </a>
  
    <nav class="md-nav" aria-label="Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#path-annotation" class="md-nav__link">
    Path Annotation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inline-path" class="md-nav__link">
    Inline Path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#versioned-secrets" class="md-nav__link">
    Versioned secrets
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ibm-cloud-secrets-manager" class="md-nav__link">
    IBM Cloud Secrets Manager
  </a>
  
    <nav class="md-nav" aria-label="IBM Cloud Secrets Manager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#iam-authentication" class="md-nav__link">
    IAM Authentication
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_1" class="md-nav__link">
    Examples
  </a>
  
    <nav class="md-nav" aria-label="Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#path-annotation_1" class="md-nav__link">
    Path Annotation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inline-path_1" class="md-nav__link">
    Inline Path
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aws-secrets-manager" class="md-nav__link">
    AWS Secrets Manager
  </a>
  
    <nav class="md-nav" aria-label="AWS Secrets Manager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#aws-authentication" class="md-nav__link">
    AWS Authentication
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_2" class="md-nav__link">
    Examples
  </a>
  
    <nav class="md-nav" aria-label="Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#path-annotation_2" class="md-nav__link">
    Path Annotation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inline-path_2" class="md-nav__link">
    Inline Path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#versioned-secrets_1" class="md-nav__link">
    Versioned secrets
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gcp-secret-manager" class="md-nav__link">
    GCP Secret Manager
  </a>
  
    <nav class="md-nav" aria-label="GCP Secret Manager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gcp-authentication" class="md-nav__link">
    GCP Authentication
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_3" class="md-nav__link">
    Examples
  </a>
  
    <nav class="md-nav" aria-label="Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#path-annotation_3" class="md-nav__link">
    Path Annotation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inline-path_3" class="md-nav__link">
    Inline Path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#versioned-secrets_2" class="md-nav__link">
    Versioned secrets
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#azure-key-vault" class="md-nav__link">
    AZURE Key Vault
  </a>
  
    <nav class="md-nav" aria-label="AZURE Key Vault">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#azure-authentication" class="md-nav__link">
    Azure Authentication
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_4" class="md-nav__link">
    Examples
  </a>
  
    <nav class="md-nav" aria-label="Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#path-annotation_4" class="md-nav__link">
    Path Annotation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inline-path_4" class="md-nav__link">
    Inline Path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#versioned-secrets_3" class="md-nav__link">
    Versioned secrets
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/IBM/argocd-vault-plugin/edit/master/docs/backends.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  <h1>Backends</h1>
                
                <h3 id="hashicorp-vault">HashiCorp Vault</h3>
<p>We support AppRole and Github Auth Method for getting secrets from Vault.</p>
<h5 id="approle-authentication">AppRole Authentication</h5>
<p>For AppRole Authentication, these are the required parameters:</p>
<pre><code>VAULT_ADDR: Your HashiCorp Vault Address
AVP_TYPE: vault
AVP_AUTH_TYPE: approle
AVP_ROLE_ID: Your AppRole Role ID
AVP_SECRET_ID: Your AppRole Secret ID
</code></pre>
<h5 id="vault-token-authentication">Vault Token Authentication</h5>
<p>For Vault Token Authentication, these are the required parameters:</p>
<pre><code>VAULT_ADDR: Your HashiCorp Vault Address
VAULT_TOKEN: Your Vault token
AVP_TYPE: vault
AVP_AUTH_TYPE: token
</code></pre>
<p>This option may be the easiest to test with locally, depending on your Vault setup.</p>
<h5 id="github-authentication">Github Authentication</h5>
<p>For Github Authentication, these are the required parameters:</p>
<pre><code>VAULT_ADDR: Your HashiCorp Vault Address
AVP_TYPE: vault
AVP_AUTH_TYPE: github
AVP_GITHUB_TOKEN: Your Github Personal Access Token
</code></pre>
<h5 id="kubernetes-authentication">Kubernetes Authentication</h5>
<p>In order to use Kubernetes Authentication a couple of things are required.</p>
<ol>
<li>
<p>Configuring Argo CD
    You can either use your own Service Account or the default Argo CD service account. To use the default Argo CD service account all you need to do is set <code>automountServiceAccountToken</code> to true in the <code>argocd-repo-server</code>.</p>
<p><code>yaml
kind: Deployment
apiVersion: apps/v1
metadata:
  name: argocd-repo-server
spec:
  template:
    spec:
      automountServiceAccountToken: true</code></p>
<p>This will put the Service Account token in the default path of <code>/var/run/secrets/kubernetes.io/serviceaccount/token</code>.</p>
<p>If you want to use your own Service Account, you would first create the Service Account.
<code>kubectl create serviceaccount your-service-account</code>.</p>
<p><b><em>Note</em></b>: The service account that you use must have access to the Kubernetes TokenReview API. You can find the Vault documentation on configuring Kubernetes <a href="https://www.vaultproject.io/docs/auth/kubernetes#configuring-kubernetes">here</a>.</p>
<p>And then you will update the <code>argocd-repo-server</code> to use that service account.</p>
<p><code>yaml
kind: Deployment
apiVersion: apps/v1
metadata:
  name: argocd-repo-server
spec:
  template:
    spec:
      serviceAccount: your-service-account
      automountServiceAccountToken: true</code></p>
</li>
<li>
<p>Configuring Kubernetes<br />
    Use the /config endpoint to configure Vault to talk to Kubernetes. Use <code>kubectl cluster-info</code> to validate the Kubernetes host address and TCP port. For the list of available configuration options, please see the <a href="https://www.vaultproject.io/api/auth/kubernetes">API documentation</a>.</p>
<p><code>$ vault write auth/kubernetes/config \
    token_reviewer_jwt="&lt;your service account JWT&gt;" \
    kubernetes_host=https://192.168.99.100:&lt;your TCP port or blank for 443&gt; \
    kubernetes_ca_cert=@ca.crt</code></p>
<p>And then create a named role:
<code>vault write auth/kubernetes/role/argocd \
    bound_service_account_names=your-service-account \
    bound_service_account_namespaces=argocd \
    policies=argocd \
    ttl=1h</code>
This role authorizes the "vault-auth" service account in the default namespace and it gives it the default policy.</p>
<p>You can find the full documentation on configuring Kubernetes Authentication <a href="vaultproject.io/docs/auth/kubernetes#configuration">Here</a>.</p>
</li>
</ol>
<p>Once Argo CD and Kubernetes are configured, you can then set the required environment variables for the plugin:</p>
<pre><code>VAULT_ADDR: Your HashiCorp Vault Address
AVP_TYPE: vault
AVP_AUTH_TYPE: k8s
AVP_K8S_MOUNT_PATH: Mount Path of your kubernetes Auth (optional)
AVP_K8S_ROLE: Your Kuberetes Auth Role
AVP_K8S_TOKEN_PATH: Path to JWT (optional)
</code></pre>
<h5 id="examples">Examples</h5>
<h6 id="path-annotation">Path Annotation</h6>
<pre><code class="language-yaml">kind: Secret
apiVersion: v1
metadata:
  name: vault-example
  annotations:
    avp.kubernetes.io/path: &quot;secret/data/database&quot;
type: Opaque
data:
  username: &lt;username&gt;
  password: &lt;password&gt;
</code></pre>
<h6 id="inline-path">Inline Path</h6>
<pre><code class="language-yaml">kind: Secret
apiVersion: v1
metadata:
  name: vault-example
type: Opaque
data:
  username: &lt;path:secret/data/database#username&gt;
  password: &lt;path:secret/data/database#password&gt;
</code></pre>
<h6 id="versioned-secrets">Versioned secrets</h6>
<pre><code class="language-yaml">kind: Secret
apiVersion: v1
metadata:
  name: vault-example
  annotations:
    avp.kubernetes.io/path: &quot;secret/data/database&quot;
    avp.kubernetes.io/secret-version: &quot;2&quot; # 2 is the latest revision in this example
type: Opaque
data:
  username: &lt;username&gt;
  password: &lt;password&gt;
  username-current: &lt;path:secret/data/database#username#2&gt; # same as &lt;username&gt;
  password-current: &lt;path:secret/data/database#password#2&gt; # same as &lt;password&gt;
  username-old: &lt;path:secret/data/database#username#1&gt;
  password-old: &lt;path:secret/data/database#password#1&gt;
</code></pre>
<p><strong>Note</strong>: Only Vault KV-V2 backends support versioning. Versions specified with a KV-V1 Vault will be ignored and the latest version will be retrieved.</p>
<h3 id="ibm-cloud-secrets-manager">IBM Cloud Secrets Manager</h3>
<p>For IBM Cloud Secret Manager we only support using IAM authentication at this time. </p>
<p>Additionally, we only support secrets of type <code>arbitrary</code>, retrieved from a secret group. Since <a href="https://cloud.ibm.com/apidocs/secrets-manager?code=go#get-secret-version"><code>arbitrary</code> secrets are not versioned</a>, any version specified in a placeholder is ignored and the latest version is retrieved.</p>
<h5 id="iam-authentication">IAM Authentication</h5>
<p>For IAM Authentication, these are the required parameters:</p>
<pre><code>AVP_IBM_INSTANCE_URL or VAULT_ADDR: Your IBM Cloud Secret Manager Endpoint
AVP_TYPE: ibmsecretsmanager
AVP_IBM_API_KEY: Your IBM Cloud API Key
</code></pre>
<h5 id="examples_1">Examples</h5>
<h6 id="path-annotation_1">Path Annotation</h6>
<pre><code class="language-yaml">kind: Secret
apiVersion: v1
metadata:
  name: ibm-example
  annotations:
    avp.kubernetes.io/path: &quot;ibmcloud/arbitrary/secrets/groups/123&quot; # 123 represents your Secret Group ID
type: Opaque
data:
  username: &lt;username&gt;
  password: &lt;password&gt;
</code></pre>
<h6 id="inline-path_1">Inline Path</h6>
<pre><code class="language-yaml">kind: Secret
apiVersion: v1
metadata:
  name: ibm-example
type: Opaque
data:
  username: &lt;path:ibmcloud/arbitrary/secrets/groups/123#username&gt;
  password: &lt;path:ibmcloud/arbitrary/secrets/groups/123#password&gt;
</code></pre>
<h3 id="aws-secrets-manager">AWS Secrets Manager</h3>
<h5 id="aws-authentication">AWS Authentication</h5>
<p>Refer to the <a href="https://github.com/aws/aws-sdk-go#configuring-credentials">AWS go SDK README</a> for supplying AWS credentials.
Supported credentials and the order in which they are loaded are described <a href="https://github.com/aws/aws-sdk-go/blob/v1.38.62/aws/session/doc.go#L22">here</a>.</p>
<p>These are the parameters for AWS:</p>
<pre><code>AVP_TYPE: awssecretsmanager
AWS_REGION: Your AWS Region (Optional: defaults to us-east-2)
</code></pre>
<h5 id="examples_2">Examples</h5>
<h6 id="path-annotation_2">Path Annotation</h6>
<pre><code class="language-yaml">apiVersion: v1
kind: Secret
metadata:
  name: aws-example
  annotations:
    avp.kubernetes.io/path: &quot;test-aws-secret&quot; # The name of your AWS Secret
stringData:
  sample-secret: &lt;test-secret&gt;
type: Opaque
</code></pre>
<h6 id="inline-path_2">Inline Path</h6>
<pre><code class="language-yaml">apiVersion: v1
kind: Secret
metadata:
  name: aws-example
stringData:
  sample-secret: &lt;path:test-aws-secret#test-secret&gt;
type: Opaque
</code></pre>
<h6 id="versioned-secrets_1">Versioned secrets</h6>
<pre><code class="language-yaml">apiVersion: v1
kind: Secret
metadata:
  name: aws-example
  annotations:
    avp.kubernetes.io/path: &quot;some-path/secret&quot;
    avp.kubernetes.io/secret-version: &quot;AWSCURRENT&quot;
stringData:
  sample-secret: &lt;test-secret&gt;
  sample-secret-again: &lt;path:some-path/secret#test-secret#AWSCURRENT&gt;
  sample-secret-old: &lt;path:some-path/secret#test-secret#AWSPREVIOUS&gt;
type: Opaque
</code></pre>
<h3 id="gcp-secret-manager">GCP Secret Manager</h3>
<h5 id="gcp-authentication">GCP Authentication</h5>
<p>Refer to the <a href="https://cloud.google.com/docs/authentication">Authentication Overview</a> for Google Cloud APIs.</p>
<p>These are the parameters for GCP:</p>
<pre><code>AVP_TYPE: gcpsecretmanager
</code></pre>
<h5 id="examples_3">Examples</h5>
<h6 id="path-annotation_3">Path Annotation</h6>
<pre><code class="language-yaml">kind: Secret
apiVersion: v1
metadata:
  name: test-secret
  annotations:
    avp.kubernetes.io/path: projects/12345678987/secrets/test-secret
type: Opaque
data:
  password: &lt;test-secret&gt;
</code></pre>
<h6 id="inline-path_3">Inline Path</h6>
<pre><code class="language-yaml">kind: Secret
apiVersion: v1
metadata:
  name: test-secret
type: Opaque
data:
  password: &lt;path:projects/12345678987/secrets/test-secret#test-secret&gt;
</code></pre>
<h6 id="versioned-secrets_2">Versioned secrets</h6>
<pre><code class="language-yaml">kind: Secret
apiVersion: v1
metadata:
  name: test-secret
  annotations:
    avp.kubernetes.io/path: &quot;projects/12345678987/secrets/test-secret&quot;
    avp.kubernetes.io/secret-version: &quot;latest&quot;
type: Opaque
data:
  current-password: &lt;password&gt;
  current-password-again: &lt;path:projects/12345678987/secrets/test-secret#password#latest&gt;
  password-old: &lt;path:projects/12345678987/secrets/test-secret#password#another-version-id&gt;
</code></pre>
<h3 id="azure-key-vault">AZURE Key Vault</h3>
<h5 id="azure-authentication">Azure Authentication</h5>
<p>Refer to the <a href="https://docs.microsoft.com/en-us/azure/developer/go/azure-sdk-authorization#use-environment-based-authentication">Use environment-based authentication</a> in the Azure SDK for Go.</p>
<p>Any secrets that are disabled in the key vault will be skipped if found.</p>
<p>For Azure, <code>path</code> is the unique name of your key vault.</p>
<p><strong>Note</strong>: Versioning is only supported for inline paths.</p>
<p><strong>Note</strong>: Due to the way the Azure backend works, templates that use <em>inline-path placeholders are more efficient</em>
(fewer HTTP calls and therefore lower chance of hitting rate limit) than generic placeholders.</p>
<p>These are the parameters for Azure:</p>
<pre><code>AVP_TYPE: azurekeyvault
</code></pre>
<h5 id="examples_4">Examples</h5>
<h6 id="path-annotation_4">Path Annotation</h6>
<pre><code class="language-yaml">kind: Secret
apiVersion: v1
metadata:
  name: test-secret
  annotations:
    avp.kubernetes.io/path: &quot;keyvault&quot;
type: Opaque
data:
  password: &lt;test-secret&gt;
</code></pre>
<h6 id="inline-path_4">Inline Path</h6>
<pre><code class="language-yaml">kind: Secret
apiVersion: v1
metadata:
  name: test-secret
type: Opaque
data:
  password: &lt;path:keyvault#test-secret&gt;
</code></pre>
<h6 id="versioned-secrets_3">Versioned secrets</h6>
<pre><code class="language-yaml">kind: Secret
apiVersion: v1
metadata:
  name: test-secret
type: Opaque
data:
  current-password: &lt;path:keyvault#password&gt;
  current-password-again: &lt;path:keyvault#password#8f8da2e06c8240808ee439ff093803b5&gt;
  password-old: &lt;path:keyvault#password#33740fc26214497f8904d93f20f7db6d&gt;
</code></pre>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../usage/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Usage" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Usage
            </div>
          </div>
        </a>
      
      
        
        <a href="../config/" class="md-footer__link md-footer__link--next" aria-label="Next: Configuration" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Configuration
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        
          Made with
          <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
            Material for MkDocs
          </a>
        
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.8397ff9e.min.js", "version": {"provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.1e84347e.min.js"></script>
      
    
  </body>
</html>